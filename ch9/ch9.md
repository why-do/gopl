# 9.1 竞态
**并发**，如果无法确定一个事件先于另外一个事件，那么这两个事件就是并发的。  
**并发安全**（concurrency-safe），如果一个函数在并发调用时仍然能正确工作，那么这个函数就是并发安全的。如果一个类型的所有可访问方法和操作都是并发安全的，则它可称为并发安全的类型。  
并发安全的类型是特例而不是普遍存在的，对于绝大部分变量，如要回避并发访问，只有下面几种办法：
+ **限制**变量只存在于一个 goroutine 内。
+ 维护一个更高层的**互斥不变量**。

竞态是指在多个 goroutine 按某些交错顺序执行时程序无法给出正确的结果。  
**数据竞态**（data race）是竞态的一种。数据竞态发生于两个 goroutine 并发读写同一个变量并且至少其中一个是写入时。有三种方法来避免数据竞态：
+ 不要修改变量
+ 避免从多个 goroutine 访问同一个变量。就是**限制**
+ 允许多个 goroutine 访问同一个变量，但在同一时间只有一个 goroutine 可以访问。这种方法称为**互斥机制**

Go 箴言：“不要通过共享内存来通信，而应该通过通信来共享内存”。